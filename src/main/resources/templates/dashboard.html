<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OneWord | Dashboard</title>

  <!-- Unified styling -->
  <link rel="stylesheet" th:href="@{/css/style.css}" />
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
</head>

<body class="dashboard">
  <!-- Bubbles background -->
  <div id="bubble-container"></div>

  <!-- Header -->
 <header>
  <h2 th:text="'Welcome, ' + ${author.username}">Welcome, Author</h2>
  <nav>
    <a th:href="@{/home}" class="nav-btn">home</a>
    <a th:href="@{/dashboard}" class="nav-btn">dashboard</a>
    <a th:href="@{/words}" class="nav-btn">community feed</a>
    <a th:href="@{/logout}" class="nav-btn">logout</a>
  </nav>
</header>

  <!-- Main Dashboard -->
  <main>
    <!-- Share Your Word -->
    <section class="share-section">
      <h3>...share your word</h3>
      <form th:action="@{/post-word}" method="post" class="share-form">
        <textarea
          id="postText"
          name="text"
          placeholder="Type your one word..."
          required
        ></textarea>
        <input type="submit" value="post" />
      </form>
    </section>

    <!-- Toggle and Feeds -->
    <div class="toggle-wrapper">
      <button class="nav-btn" onclick="toggleSection()">toggle feed</button>
    </div>

    <section id="myWords" class="content-section active">
      <h3>your words</h3>
      <ul>
        <li th:each="word : ${myWords}" th:text="${word.text}">sample word</li>
      </ul>
    </section>

    <section id="communityFeed" class="content-section">
      <h3>community feed</h3>
      <ul>
        <li th:each="word : ${allWords}" th:text="${word.text}">community word</li>
      </ul>
    </section>
  </main>

  <script>
    // Toggle between "Your Words" and "Community Feed"
    function toggleSection() {
      document.getElementById("myWords").classList.toggle("active");
      document.getElementById("communityFeed").classList.toggle("active");
    }

    // Bubble animation
    const bubbleContainer = document.getElementById("bubble-container");
    for (let i = 0; i < 25; i++) {
      const bubble = document.createElement("div");
      bubble.classList.add("bubble");
      bubble.style.left = `${Math.random() * 100}vw`;
      bubble.style.animationDuration = `${8 + Math.random() * 8}s`;
      bubble.style.opacity = 0.2 + Math.random() * 0.4;
      bubbleContainer.appendChild(bubble);
    }
  </script>
</body>
</html>